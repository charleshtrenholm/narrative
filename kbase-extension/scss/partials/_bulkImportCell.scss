/*
  bulk import cell
*/

$component-border: use-color('silver');
$filetype-icon-color: rgb(3, 81, 125);
$filetype-highlight-color: use-color('white');
$filetype-hover-color: use-color('base-lighter');
$panel-separator-color: rgb(33, 150, 243);
$tab-widget-margin: 15px;
$tab-widget-padding: 4px;

%file_type_button {
  display: flex;
  width: 100%;
  flex-direction: row;
  background-color: inherit;
  border: 0 solid $component-border;
  border-top-width: 1px;
  padding: 8px;
  text-align: left;
}

.kb-bulk-import {
  &__base-node {
    // everything lives under this
  }

  &__layout_container {
    display: flex;
    align-items: stretch;
  }

  // kb-bulk-import__prompt
  &__prompt {
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }

  // kb-bulk-import__prompt_status
  &__prompt_status {
  }

  // kb-bulk-import__body
  &__body {
    display: flex;
    width: 100%;
    flex: 1;
    flex-direction: column;
    align-items: stretch;
  }

  // kb-bulk-import__tab_pane
  &__tab_pane {
    border-top: 2px solid $panel-separator-color;
    display: flex;
    flex-direction: row;
    align-content: stretch;
    align-items: stretch;
  }

  // kb-bulk-import__tab_pane_widget
  &__tab_pane_widget {
    padding: $tab-widget-padding;
    margin: $tab-widget-margin;
  }


  &__tab_pane .kb-bulk-import__filetype_panel {
    display: none;
  }

  &__tab_pane[data-active-tab="configure"] .kb-bulk-import__filetype_panel {
    display: block;
  }

  // kb-bulk-import-configure
  &-configure {
    &__container {
      display: flex;
      margin: -($tab-widget-margin + $tab-widget-padding);
    }

    // kb-bulk-import__filetype_panel
    &__filetype_panel {
      background-color: use-color('base-lightest');
      width: 24rem;

      &__header {
        padding: 8px;
        border-bottom: 1px solid $component-border;
        @include font-h4;

        &_icon {
          padding: 8px 6px 8px 8px;
          color: rgb(0 0 0);
        }
      }

      &__filetype {
        // .kb-bulk-import__filetype_panel__filetype_button
        &_button {
          @include base-text;
          @extend %file_type_button;

          &:hover:not(&--selected) {
            @extend %file_type_button;
            background-color: $filetype-hover-color;
            cursor: pointer;
          }

          // .kb-bulk-import__filetype_panel__filetype_button--selected
          &--selected {
            @extend %file_type_button;
            background-color: $filetype-highlight-color;
            box-shadow: 0 3px 2px -2px use-color('base');
          }

          &--selected + .kb-bulk-import__filetype_panel__filetype_button {
            box-shadow: inset 0 3px 2px -2px use-color('base');
          }
        }

        // .kb-bulk-import__filetype_panel__filetype_icon
        &_icon {
          padding: 2px 8px 0;
          color: $filetype-icon-color;
        }

        // .kb-bulk-import__filetype_panel__filetype_label
        &_label {
          flex: 1;
        }
      }
    }

    &__inputs {
      flex: 1;
      margin: $tab-widget-margin;
      padding: $tab-widget-padding;
    }

    &__advanced_hidden_message {
      margin-left: 6px;
      font-style: italic;
    }
  }
}

.kb-app-params {
  &__advanced-message--parameters {
    margin-left: 6px;
  }

  &__fields--parameters {
    // kb-app-params__fields--parameters__hidden_field
    &__hidden_field {
      display: none;
    }
  }
}

.kb-field-widget__error_message--parameters {
  border: 1px solid use_color("error");
}

.kb-field-cell {
  &__param_container {
    margin: 3px;
  }

  &__input_control select {
    margin-left: 0;
  }

  &__cell_label {
    padding-top: 8px;
    margin-bottom: 0;
  }
}
